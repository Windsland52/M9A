{
    "TheSyndromeOfSilence": {
        // 3.2&3.3 版本局外演绎,
        "next": [
            "SOSMainMenu"
        ],
        "interrupt": [
            "SOSStop",
            "FlagInSOSMenu",
            "ReturnMain",
            "EnterTheActivityMain",
            "EnterSOSMenu"
        ]
    },
    // 到 SOS Main Menu
    "FlagInSOSMenu": {
        // 版本活动列表界面 OR 活动列表界面在未开始游戏的情况下点开后的界面
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    114,
                    68,
                    823,
                    198
                ],
                "template": [
                    "SyndromeOfSilence/TheSyndromeOfSilence_Menu1.png",
                    "SyndromeOfSilence/TheSyndromeOfSilence_Menu2.png"
                ]
            }
        },
        "next": [
            "SOSStart"
        ]
    },
    "EnterSOSMenu": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    46,
                    561,
                    782,
                    159
                ],
                "expected": [
                    "无声综合征"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "post_wait_freezes": {
            "time": 500,
            "target": [
                931,
                551,
                353,
                172
            ]
        }
    },
    "SOSMainMenu": {
        // 有科技树的主界面，进入循环
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "MultiRecognition",
                "custom_recognition_param": {
                    "nodes": [
                        "FlagInSOSMainMenu",
                        "SOSStop"
                    ],
                    "logic": {
                        "type": "CUSTOM",
                        "expression": "$0 AND NOT $1"
                    },
                    "return": "$0"
                }
            }
        },
        "next": [
            "SOSSelectNoise"
        ],
        "interrupt": [
            "SOSConfirm", // 先不管旅伴，直接跳过，后面有需要再处理
            "SOSStart"
        ]
    },
    "FlagInSOSMainMenu": {
        // 有科技树的主界面
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    101,
                    358,
                    317,
                    77
                ],
                "expected": [
                    "旅途所获"
                ]
            }
        }
    },
    "SOSStop": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    497,
                    536,
                    503,
                    128
                ],
                "template": [
                    "SyndromeOfSilence/SOSStop.png"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    0,
                    0,
                    0,
                    -15
                ]
            }
        },
        "next": [
            "FlagInSOSMainMenu"
        ],
        "interrupt": [
            "SOSSummary",
            "SOSGiveup",
            "SOSStart",
            "SOD_Skip_NoNext",
            "SOSConfirm"
        ]
    },
    "SOSSummary": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    405,
                    0,
                    361,
                    117
                ],
                "template": [
                    "SyndromeOfSilence/SOSSummary.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "SOSGiveup": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    443,
                    157,
                    337,
                    199
                ],
                "template": [
                    "SyndromeOfSilence/SOSGiveup.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "SOSConfirm": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    764,
                    404,
                    73,
                    35
                ],
                "expected": [
                    "确认"
                ],
                "only_rec": true
            }
        },
        "action": {
            "type": "Click"
        }
    },
    "SOSStart": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    540,
                    501,
                    667,
                    179
                ],
                "template": [
                    "SyndromeOfSilence/SOSStart.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "post_delay": 1500
    },
    // 开始局外演绎
    "SOSSelectNoise": {
        // 选择难度界面
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    576,
                    50,
                    124,
                    36
                ],
                "only_rec": true,
                "expected": [
                    "难度选择"
                ]
            }
        },
        // TODO: 选择噪音等级
        "next": [
            "SOSSelectInstrument"
        ],
        "interrupt": [
            "SOSNextStep"
        ]
    },
    "SOSSelectInstrument": {
        // 选择 buff 界面
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    576,
                    50,
                    124,
                    36
                ],
                "only_rec": true,
                "expected": [
                    "选择配器"
                ]
            }
        },
        // TODO: 选择 buff
        "next": [
            "SOSMain"
        ],
        "interrupt": [
            "SOSNextStep",
            "SOSArtifactsObtained",
            "SOSSelectResonator"
        ]
    },
    "SOSMain": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    79,
                    645,
                    116,
                    40
                ],
                "only_rec": true,
                "expected": [
                    "角色总览"
                ]
            }
        },
        "next": [
            "SOSSelectNode"
        ],
        "interrupt": []
    },
    // 演绎主体逻辑
    "SOSSelectNode": {
        // 选择最左侧节点
        "recognition": {
            "type": "NeuralNetworkDetect",
            "param": {
                "model": "sos_nodes.onnx",
                "labels": [
                    "C", // 走过的节点
                    "Conflict", // 冲突
                    "Dangerous", // 险象环生
                    "Encounter", // 遭遇
                    "EncounterAlongTheWay", // 途中偶遇
                    "EntertainmentOnTheWay", // 途中余兴
                    "FierceBattle", // 恶战
                    "Message", // 信息
                    "RestArea", // 休憩处
                    "ShoppingOpportunity", // 购物契机
                    "TheHandOfAMasterCraftsman", // 巧匠之手
                    "TheOnlyWay", // 必经之路
                    "TreasureLand" // 藏宝地
                ],
                "expected": [
                    0,
                    1,
                    2,
                    3,
                    4,
                    5,
                    6,
                    7,
                    8,
                    9,
                    10,
                    11,
                    12
                ],
                "order_by": "Horizontal",
                "index": 0
            }
        },
        // "action": {
        //     "type": "Custom",
        //     "param": {
        //         "custom_action": "SOSSelectNode"
        //     }
        // },
        "next_code": "在custom_action里override"
    },
    // 主页面各种弹窗处理
    "SOSArtifactsObtained": {
        // 获得造物
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    576,
                    50,
                    124,
                    36
                ],
                "only_rec": true,
                "expected": [
                    "获得造物"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "post_wait_freezes": 500
    },
    "SOSSelectResonator": {
        // 获得共鸣器
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    561,
                    50,
                    159,
                    37
                ],
                "only_rec": true,
                "expected": [
                    "获得共鸣器"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "post_wait_freezes": 500
    },
    "SOSNextStep": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    1002,
                    545,
                    227,
                    149
                ],
                "template": [
                    "SyndromeOfSilence/NextStep.png"
                ]
            }
        },
        "action": {
            "type": "Click"
        }
    }
}